<h1>다중_VPC간_Load_Balancer_구현</h1>
</br>
</br>
</br>

<h3>1. VPC 생성</h3>

```bash
VPCdmz
VPCa
VPCb
```

</br>

<h3>2. 서브넷 생성</h3>

```bash
BASTIONdmz  192.168.0.0/24
TESTa       192.168.11.0/24
TESTb       192.168.21.0/24
```

</br>

<h3>3. Internet Gateway 생성</h3>

```bash
IGW_VPCdmz  (VPCdmz)
IGW_VPCa    (VPCa)
IGW_VPCb    (VPCb)
```

</br>

<h3>4. Security Group 생성</h3>

```bash
SGdmz  (VPCdmz)
SGa    (VPCa)
SGb    (VPCc)
```

</br>

<h3>6. Virtual Server 생성</h3>

```bash
BASTIONdmz  (VPCdmz)
TESTa       (VPCa)
TESTb       (VPCb)
```

</br>

<h3>7. Load Balancer 생성</h3>

```bash
Load Balancer   : LBdmz (192.168.5.0/27)
LB Link IP      : 192.168.254.28/30

LB Service      : 80Port 허용
LB Server Group : Virtual Server (TESTa, TESTb 추가)
```

</br>

<h3>8. Security Group 규칙 설정</h3>

```bash
SGdmz  (VPCdmz)
    - Inbound   : 3389(My IP)
    - OUTbound  : 0.0.0.0/0

SGa    (VPCa)
    - Inbound   : 22,80(192.168.0.0/24, [LB Link IP])
    - OUTbound  : 0.0.0.0/0
SGb    (VPCc)
    - Inbound   : 22,80(192.168.0.0/24, [LB Link IP])
    - OUTbound  : 0.0.0.0/0
```

</br>

<h3>9. VPC Peering</h3>

```bash
: VPCdmz <--Peering--> VPCa
  Routing_Table_VPCdmz (192.168.11.0/24), Routing_Table_VPCa (192.168.0.0/24,192.168.254.28/30)

: VPCdmz <--Peering--> VPCb
  Routing_Table_VPCdmz (192.168.21.0/24), Routing_Table_VPCb (192.168.0.0/24,192.168.254.28/30)
```

</br>

<h3>아파치 설치 명령어</h3>
```bash
sudo yum update
sudo yum install httpd
sudo systemctl start httpd
sudo systemctl enable httpd
sudo systemctl status httpd
```

</br>

<h3>방화벽 설정</h3>
```bash
sudo systmectl status firewalld
sudo systmectl start firewalld
sudo systmectl enable firewalld

sudo firewall-cmd --zone=public --add-port=80/tcp --permanent
sudo firewall-cmd --reload

sudo firewall-cmd --list-all
```










